

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.13. Ignoring Files &mdash; Syncthing v1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/syncthing.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Syncthing v1 documentation" href="../index.html"/>
        <link rel="up" title="2. Usage" href="index.html"/>
        <link rel="next" title="2.14. File Versioning" href="versioning.html"/>
        <link rel="prev" title="2.12. Using Proxies" href="proxying.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Syncthing
          

          
          </a>

          
            
            
              <div class="version">
                v1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="syncthing.html">2.1. Command Line Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">2.2. FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html">2.3. Release Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">2.4. Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">2.5. Advanced Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="foldertypes.html">2.6. Folder Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="introducer.html">2.7. Introducer Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="guilisten.html">2.8. The GUI Listen Address</a></li>
<li class="toctree-l2"><a class="reference internal" href="syncing.html">2.9. Understanding Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="firewall.html">2.10. Firewall Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="relaying.html">2.11. Relaying</a></li>
<li class="toctree-l2"><a class="reference internal" href="proxying.html">2.12. Using Proxies</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.13. Ignoring Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">2.13.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">2.13.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#patterns">2.13.3. Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">2.13.4. Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#effects-on-in-sync-status">2.13.5. Effects on “In Sync” Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="versioning.html">2.14. File Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="stdiscosrv.html">2.15. Syncthing Discovery Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="strelaysrv.html">2.16. Syncthing Relay Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-upgrades.html">2.17. Custom Upgrade Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="autostart.html">2.18. Starting Syncthing Automatically</a></li>
<li class="toctree-l2"><a class="reference internal" href="contrib.html">2.19. Community Contributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="profiling.html">2.20. Profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="reverseproxy.html">2.21. Reverse Proxy Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">2.22. Security Principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">3. Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specs/index.html">4. Specifications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Syncthing</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">2. </span>Usage</a> &raquo;</li>
        
      <li><span class="section-number">2.13. </span>Ignoring Files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/syncthing/docs/blob/master/users/ignoring.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="ignoring-files">
<span id="id1"></span><h1><span class="section-number">2.13. </span>Ignoring Files<a class="headerlink" href="#ignoring-files" title="Permalink to this headline">¶</a></h1>
<section id="synopsis">
<h2><span class="section-number">2.13.1. </span>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">stignore</span>
</pre></div>
</div>
</section>
<section id="description">
<h2><span class="section-number">2.13.2. </span>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>If some files should not be synchronized to other devices, a file called
<code class="docutils literal notranslate"><span class="pre">.stignore</span></code> can be created containing file patterns to ignore. The
<code class="docutils literal notranslate"><span class="pre">.stignore</span></code> file must be placed in the root of the folder. The
<code class="docutils literal notranslate"><span class="pre">.stignore</span></code> file itself will never be synced to other devices, although it can
<code class="docutils literal notranslate"><span class="pre">#include</span></code> files that <em>are</em> synchronized between devices. All patterns are
relative to the folder root.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that ignored files can block removal of an otherwise empty directory.
See below for the (?d) prefix to allow deletion of ignored files.</p>
</div>
</section>
<section id="patterns">
<h2><span class="section-number">2.13.3. </span>Patterns<a class="headerlink" href="#patterns" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">.stignore</span></code> file contains a list of file or path patterns. The
<em>first</em> pattern that matches will decide the fate of a given file.</p>
<ul class="simple">
<li><p>Regular file names match themselves, i.e. the pattern <code class="docutils literal notranslate"><span class="pre">foo</span></code> matches
the files <code class="docutils literal notranslate"><span class="pre">foo</span></code>, <code class="docutils literal notranslate"><span class="pre">subdir/foo</span></code> as well as any directory named
<code class="docutils literal notranslate"><span class="pre">foo</span></code>. Spaces are treated as regular characters.</p></li>
<li><p>Asterisk matches zero or more characters in a filename, but does not
match the directory separator. <code class="docutils literal notranslate"><span class="pre">te*st</span></code> matches <code class="docutils literal notranslate"><span class="pre">test</span></code>,
<code class="docutils literal notranslate"><span class="pre">subdir/telerest</span></code> but not <code class="docutils literal notranslate"><span class="pre">tele/rest</span></code>.</p></li>
<li><p>Double asterisk matches as above, but also directory separators.
<code class="docutils literal notranslate"><span class="pre">te**st</span></code> matches <code class="docutils literal notranslate"><span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">subdir/telerest</span></code> and
<code class="docutils literal notranslate"><span class="pre">tele/sub/dir/rest</span></code>.</p></li>
<li><p>Question mark matches a single character that is not the directory
separator. <code class="docutils literal notranslate"><span class="pre">te??st</span></code> matches <code class="docutils literal notranslate"><span class="pre">tebest</span></code> but not <code class="docutils literal notranslate"><span class="pre">teb/st</span></code> or
<code class="docutils literal notranslate"><span class="pre">test</span></code>.</p></li>
<li><p>Characters enclosed in square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code> are interpreted as a character range <code class="docutils literal notranslate"><span class="pre">[a-z]</span></code>. Before using this syntax you should have a basic understanding of regular expression character classes.</p></li>
<li><p>A pattern beginning with <code class="docutils literal notranslate"><span class="pre">/</span></code> matches in the current directory only.
<code class="docutils literal notranslate"><span class="pre">/foo</span></code> matches <code class="docutils literal notranslate"><span class="pre">foo</span></code> but not <code class="docutils literal notranslate"><span class="pre">subdir/foo</span></code>.</p></li>
<li><p>A pattern beginning with <code class="docutils literal notranslate"><span class="pre">#include</span></code> results in loading patterns
from the named file. It is an error for a file to not exist or be
included more than once. Note that while this can be used to include
patterns from a file in a subdirectory, the patterns themselves are
still relative to the folder <em>root</em>. Example:
<code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">more-patterns.txt</span></code>.</p></li>
<li><p>A pattern beginning with a <code class="docutils literal notranslate"><span class="pre">!</span></code> prefix negates the pattern: matching files
are <em>included</em> (that is, <em>not</em> ignored). This can be used to override
more general patterns that follow.</p></li>
<li><p>A pattern beginning with a <code class="docutils literal notranslate"><span class="pre">(?i)</span></code> prefix enables case-insensitive pattern
matching. <code class="docutils literal notranslate"><span class="pre">(?i)test</span></code> matches <code class="docutils literal notranslate"><span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">TEST</span></code> and <code class="docutils literal notranslate"><span class="pre">tEsT</span></code>. The
<code class="docutils literal notranslate"><span class="pre">(?i)</span></code> prefix can be combined with other patterns, for example the
pattern <code class="docutils literal notranslate"><span class="pre">(?i)!picture*.png</span></code> indicates that <code class="docutils literal notranslate"><span class="pre">Picture1.PNG</span></code> should
be synchronized. On Mac OS and Windows, patterns are always case-insensitive.</p></li>
<li><p>A pattern beginning with a <code class="docutils literal notranslate"><span class="pre">(?d)</span></code> prefix enables removal of these files if
they are preventing directory deletion. This prefix should be used by any OS
generated files which you are happy to be removed.</p></li>
<li><p>A line beginning with <code class="docutils literal notranslate"><span class="pre">//</span></code> is a comment and has no effect.</p></li>
<li><p>Windows does not support escaping <code class="docutils literal notranslate"><span class="pre">\[foo</span> <span class="pre">-</span> <span class="pre">bar\]</span></code>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prefixes can be specified in any order (e.g. “(?d)(?i)”), but cannot be in a
single pair of parentheses (not “<span class="strike">(?di)</span>”).</p>
</div>
</section>
<section id="example">
<h2><span class="section-number">2.13.4. </span>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Given a directory layout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">DS_Store</span>
<span class="n">foo</span>
<span class="n">foofoo</span>
<span class="n">bar</span><span class="o">/</span>
    <span class="n">baz</span>
    <span class="n">quux</span>
    <span class="n">quuz</span>
<span class="n">bar2</span><span class="o">/</span>
    <span class="n">baz</span>
    <span class="n">frobble</span>
<span class="n">My</span> <span class="n">Pictures</span><span class="o">/</span>
    <span class="n">Img15</span><span class="o">.</span><span class="n">PNG</span>
</pre></div>
</div>
<p>and an <code class="docutils literal notranslate"><span class="pre">.stignore</span></code> file with the contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(?d).DS_Store
!frobble
!quuz
foo
*2
qu*
(?i)my pictures
</pre></div>
</div>
<p>all files and directories called “foo”, ending in a “2” or starting with
“qu” will be ignored. The end result becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">DS_Store</span>     <span class="c1"># ignored, will be deleted if gets in the way of parent directory removal</span>
<span class="n">foo</span>           <span class="c1"># ignored, matches &quot;foo&quot;</span>
<span class="n">foofoo</span>        <span class="c1"># synced, does not match &quot;foo&quot; but would match &quot;foo*&quot; or &quot;*foo&quot;</span>
<span class="n">bar</span><span class="o">/</span>          <span class="c1"># synced</span>
    <span class="n">baz</span>       <span class="c1"># synced</span>
    <span class="n">quux</span>      <span class="c1"># ignored, matches &quot;qu*&quot;</span>
    <span class="n">quuz</span>      <span class="c1"># synced, matches &quot;qu*&quot; but is excluded by the preceding &quot;!quuz&quot;</span>
<span class="n">bar2</span><span class="o">/</span>         <span class="c1"># ignored, matched &quot;*2&quot;</span>
    <span class="n">baz</span>       <span class="c1"># ignored, due to parent being ignored</span>
    <span class="n">frobble</span>   <span class="c1"># ignored, due to parent being ignored; &quot;!frobble&quot; doesn&#39;t help</span>
<span class="n">My</span> <span class="n">Pictures</span><span class="o">/</span>  <span class="c1"># ignored, matched case insensitive &quot;(?i)my pictures&quot; pattern</span>
    <span class="n">Img15</span><span class="o">.</span><span class="n">PNG</span> <span class="c1"># ignored, due to parent being ignored</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that directory patterns ending with a slash
<code class="docutils literal notranslate"><span class="pre">some/directory/</span></code> matches the content of the directory, but not the
directory itself. If you want the pattern to match the directory and its
content, make sure it does not have a <code class="docutils literal notranslate"><span class="pre">/</span></code> at the end of the pattern.</p>
</div>
</section>
<section id="effects-on-in-sync-status">
<h2><span class="section-number">2.13.5. </span>Effects on “In Sync” Status<a class="headerlink" href="#effects-on-in-sync-status" title="Permalink to this headline">¶</a></h2>
<p>Currently the effects on who is in sync with what can be a bit confusing
when using ignore patterns. This should be cleared up in a future
version…</p>
<p>Assume two devices, Alice and Bob, where Alice has 100 files to share, but
Bob ignores 25 of these. From Alice’s point of view Bob will become
about 75% in sync (the actual number depends on the sizes of the
individual files) and remain in “Syncing” state even though it is in
fact not syncing anything (<a class="reference external" href="https://github.com/syncthing/syncthing/issues/623">issue #623</a>). From Bob’s point of view, it’s
100% up to date but will show fewer files in both the local and global
view.</p>
<p>If Bob adds files that have already been synced to the ignore list, they
will remain in the “global” view but disappear from the “local” view.
The end result is more files in the global folder than in the local,
but still 100% in sync (<a class="reference external" href="https://github.com/syncthing/syncthing/issues/624">issue #624</a>). From Alice’s point of view, Bob
will remain 100% in sync until the next reconnect, because Bob has
already announced that he has the files that are now suddenly ignored.</p>
</section>
</section>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="versioning.html" class="btn btn-neutral float-right" title="2.14. File Versioning" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="proxying.html" class="btn btn-neutral" title="2.12. Using Proxies" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>